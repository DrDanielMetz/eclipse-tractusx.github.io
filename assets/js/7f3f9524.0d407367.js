"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[7834],{41736:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>m});var n=a(87462),r=(a(67294),a(3905));const i={title:"TRG 5.01 - Helm Chart requirements"},l=void 0,s={unversionedId:"release/trg-5/trg-5-1",id:"release/trg-5/trg-5-1",title:"TRG 5.01 - Helm Chart requirements",description:"| Author                | Status | Created     | Post-History    |",source:"@site/docs/release/trg-5/trg-5-1.md",sourceDirName:"release/trg-5",slug:"/release/trg-5/trg-5-1",permalink:"/docs/release/trg-5/trg-5-1",draft:!1,editUrl:"https://github.com/eclipse-tractusx/eclipse-tractusx.github.io/tree/main/docs/release/trg-5/trg-5-1.md",tags:[],version:"current",frontMatter:{title:"TRG 5.01 - Helm Chart requirements"},sidebar:"developer",previous:{title:"TRG 4.05 - Container registries",permalink:"/docs/release/trg-4/trg-4-5"},next:{title:"TRG 5.02 - Chart structure",permalink:"/docs/release/trg-5/trg-5-2"}},o={},m=[{value:"Description",id:"description",level:2},{value:"Why",id:"why",level:2},{value:"Released Helm Charts",id:"released-helm-charts",level:3},{value:"Versioning",id:"versioning",level:3},{value:"The <code>values.yaml</code> File",id:"the-valuesyaml-file",level:3},{value:"Dependencies",id:"dependencies",level:3}],p={toc:m};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Author"),(0,r.kt)("th",{parentName:"tr",align:null},"Status"),(0,r.kt)("th",{parentName:"tr",align:null},"Created"),(0,r.kt)("th",{parentName:"tr",align:null},"Post-History"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Catena-X System Team"),(0,r.kt)("td",{parentName:"tr",align:null},"Active"),(0,r.kt)("td",{parentName:"tr",align:null},"10-Nov-2022"),(0,r.kt)("td",{parentName:"tr",align:null},"Initial release")))),(0,r.kt)("h2",{id:"description"},"Description"),(0,r.kt)("p",null,"All Catena-X/Tractus-X components ",(0,r.kt)("strong",{parentName:"p"},"must")," be installable via Helm and meet following requirements. The product's Helm\nchart ",(0,r.kt)("strong",{parentName:"p"},"has to meet")," all of these criteria!"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Helm chart ",(0,r.kt)("strong",{parentName:"li"},"must be released"),"."),(0,r.kt)("li",{parentName:"ul"},"Appropriate versioning for ",(0,r.kt)("inlineCode",{parentName:"li"},"version")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"appVersion")," has to be used in ",(0,r.kt)("inlineCode",{parentName:"li"},"Chart.yaml"),"."),(0,r.kt)("li",{parentName:"ul"},"The released Helm chart ",(0,r.kt)("strong",{parentName:"li"},"must not contain any environment specific")," ",(0,r.kt)("inlineCode",{parentName:"li"},"values-xyz.yaml")," files."),(0,r.kt)("li",{parentName:"ul"},"Helm chart ",(0,r.kt)("inlineCode",{parentName:"li"},"values.yaml")," file ",(0,r.kt)("strong",{parentName:"li"},"must contain proper default values/placeholders"),".",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"No hostname provided for ingress"),(0,r.kt)("li",{parentName:"ul"},"Ingress is disabled"),(0,r.kt)("li",{parentName:"ul"},"No references to any secret engine service (e.g.: Hashicorp Vault)"),(0,r.kt)("li",{parentName:"ul"},"Dependencies should be prefixed with the ",(0,r.kt)("inlineCode",{parentName:"li"},"nameOverride")," and/or ",(0,r.kt)("inlineCode",{parentName:"li"},"fullnameOverride")," properties"),(0,r.kt)("li",{parentName:"ul"},"Image tag is set to the ",(0,r.kt)("strong",{parentName:"li"},"Chart.yaml")," ",(0,r.kt)("inlineCode",{parentName:"li"},"appVersion")," property"))),(0,r.kt)("li",{parentName:"ul"},"Helm chart ",(0,r.kt)("strong",{parentName:"li"},"must be deployable to any environment without overwriting default values")," with a simple ",(0,r.kt)("inlineCode",{parentName:"li"},"helm install"),"\ncommand."),(0,r.kt)("li",{parentName:"ul"},"If there is an ",(0,r.kt)("strong",{parentName:"li"},"Ingress")," resource present, it can be turned off, and it is disabled by default."),(0,r.kt)("li",{parentName:"ul"},"Helm dependencies have to be declared in ",(0,r.kt)("inlineCode",{parentName:"li"},"Chart.yaml")," file.")),(0,r.kt)("h2",{id:"why"},"Why"),(0,r.kt)("h3",{id:"released-helm-charts"},"Released Helm Charts"),(0,r.kt)("p",null,"Tractus-X components can only be used and bundled with other components of Tractus-X if there is a version of the\ncomponent with reliable content. This can only be achieved by creating a release of your Helm chart. We recommend to use\nGitHub ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/helm/chart-releaser-action"},"Chart Releaser Action"),"."),(0,r.kt)("h3",{id:"versioning"},"Versioning"),(0,r.kt)("p",null,"Versioning is essential when it comes to releasing Helm charts. In an ideal world your chart version (defined\nin ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," inside ",(0,r.kt)("inlineCode",{parentName:"p"},"Chart.yaml"),") matches the application version (defined in ",(0,r.kt)("inlineCode",{parentName:"p"},"appVersion")," inside ",(0,r.kt)("inlineCode",{parentName:"p"},"Chart.yaml"),") which\nthe Helm chart will deploy. This makes it for users easier to get an idea what will be installed in which version.\nPlease refer also to ",(0,r.kt)("a",{parentName:"p",href:"/docs/release/trg-5/trg-5-3"},(0,r.kt)("em",{parentName:"a"},"TRG 5.03 - Version Strategy")),"."),(0,r.kt)("p",null,"To achieve a proper versioning of your Helm chart keep in mind, that it shall not contain version information that could\nchange outside the Helm chart, e.g. container image tags (\u2192 don't use container image tag ",(0,r.kt)("em",{parentName:"p"},"latest"),")."),(0,r.kt)("h3",{id:"the-valuesyaml-file"},"The ",(0,r.kt)("inlineCode",{parentName:"h3"},"values.yaml")," File"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"values.yaml")," file is essential for Helm charts. The file ",(0,r.kt)("strong",{parentName:"p"},"must")," contain all values the chart is expecting and\nthere ",(0,r.kt)("strong",{parentName:"p"},"must")," be no other values files except of ",(0,r.kt)("inlineCode",{parentName:"p"},"values.yaml")," file. Released Helm charts ",(0,r.kt)("strong",{parentName:"p"},"must")," contain\nonly ",(0,r.kt)("inlineCode",{parentName:"p"},"values.yaml")," file."),(0,r.kt)("h3",{id:"dependencies"},"Dependencies"),(0,r.kt)("p",null,"If a Helm chart has dependencies to other Helm charts, e.g. PostgreSQL, these dependencies ",(0,r.kt)("strong",{parentName:"p"},"must")," be specified in\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"Chart.yaml")," file. Do not use outdated ",(0,r.kt)("inlineCode",{parentName:"p"},"requirements.yaml"),"."))}d.isMDXComponent=!0}}]);